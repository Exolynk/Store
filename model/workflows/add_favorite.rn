pub fn show() {
    let record = exo::get_record()?;
    let user = exo::get_user();
    let favs = user.get_value("favorites")?;

    if favs.iter().any(|r| r.to_string() == record.uuid) {
        return false;
    }
    true
}

pub async fn main() {
    let record = exo::get_record()?;
    exo::rpc_env("add_favorite", [record.uuid]).await?;
    Ok(())
}

pub async fn test() {
    assert!(show() is bool);
    main().await?;
    Ok(())
}
